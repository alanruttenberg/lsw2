Not all diseases are of human () 
Example: C0276271 "Canine viral papillomatosis"
All but (- 28925 (count-diseases-with-snomed-mappings)) = 954 have snomed mappings.

Here is an example with more than one role group.

"'Furuncle of abdominal wall' EquivalentTo 'Disease' and ('Role group' some 
(('Associated morphology' some 'Furuncle') and ('Causative agent' some 'Bacteria') and ('Finding site' some 'Hair follicle structure') and ('Pathological process' some 'Infectious process'))) and ('Role group' some ('Finding site' some 'Skin and subcutaneous tissue structure of abdomen'))"


This one is interesting

("Congenital lobar emphysema" EQUIVALENTTO "Disease" AND
 ("Role group" SOME
  (("Associated morphology" SOME "Developmental abnormality") AND
   ("Occurrence" SOME "Congenital") AND
   ("Finding site" SOME "Structure of lobe of lung")))
 AND
 ("Role group" SOME
  (("Associated morphology" SOME "Emphysema") AND
   ("Occurrence" SOME "Congenital") AND
   ("Finding site" SOME "Structure of lobe of lung")))
 AND
 ("Role group" SOME
  (("Associated morphology" SOME "Narrowing") AND
   ("Occurrence" SOME "Congenital") AND
   ("Finding site" SOME "Bronchiole structure"))))


This one is wrong
("Subcutaneous pheohyphomycotic abscess and cyst" SUBCLASSOF
 "Phaeohyphomycosis of skin" AND
 ("Role group" SOME ("Causative agent" SOME "Exophiala")) AND
 ("Role group" SOME ("Causative agent" SOME "Bipolaris")) AND
 ("Role group" SOME ("Causative agent" SOME "Cladosporium")) AND
 ("Role group" SOME ("Causative agent" SOME "Xylohypha")) AND
 ("Role group" SOME ("Causative agent" SOME "Phialophorasn")) AND
 ("Role group" SOME ("Causative agent" SOME "Curvularia")) AND
 ("Role group" SOME ("Causative agent" SOME "Alternaria")) AND
 ("Role group" SOME ("Causative agent" SOME "Exserohilum")) AND
 ("Role group" SOME ("Finding site" SOME "Skin structure")))

Wouldn't be found by partial area because that doesn't look at count of relations used, just set.

The use of terms of the form “X species”, such as "Salmonella
species", is routine in laboratory reporting, but in the context of
the Linnaean organism hierarchy there is no difference between
"Salmonella species" and simply "Salmonella" the genus. In the context
of a laboratory report, the term "Salmonella species" sometimes is
intended to convey additional information beyond the place of the
identified organism in the Linnaean hierarchy, but the intended
connotation may vary from lab to lab and from organism to
organism. Since the organism code represents a class of organisms, it
cannot also represent what was or was not done, or what will be done,
to identify the organism. It also cannot properly represent other
information about the result. If there is additional information that
needs to be communicated, it should be in a separate statement or
comment (e.g. "further species identification pending" or "sent to
reference laboratory for further identification", or "further
identification to be done if clinically indicated"

form class ‎(plural form classes)

(taxonomy) A collection of organisms that is given formal recognition at the rank of class with a taxonomic name, but which is known to be an artificial group rather than a natural one.
All fungi for which sexual reproduction is unknown are assigned to the form class Deuteromycota until such reproduction is discovered in that species.

taxonomic disjoints
Initialize with queue = (organism)
while queue not empty
 focus = pop queue
 get focus children
 add children to end of queue
 remove any term with "form" in name
 consider the rest a disjoint set


"Genus" 
"Family" 
"Streptomyces" 
"Order" 
"Subfamily" 
"Class" 
"Phylum" 
"Suborder" 
"Subclass" 
"Superfamily" 

(loop for i from 0 to 9 do (format t "~a: ~a~%" i (count i  (mapcar 'second (top-by-count memo nil)))))
Distribution of # of role groups in a term in terms below disease
0: 18648
1: 44887
2: 6021
3: 690
4: 65
5: 5
6: 1
7: 0
8: 0
9: 1


(loop for i from 5 to 9 do  (map nil 'pprint (mapcar 'manchester-axiom-to-sexp (mapcar 'car (remove-if-not (lambda(e) (= (second e) i)) (top-by-count memo nil))))))

("Acute necrotizing ulcerative gingivostomatitis" SUBCLASSOF
 "Gingivostomatitis" AND
 ("Role group" SOME
  (("Associated morphology" SOME "Acute necrotizing inflammation")
   AND ("Finding site" SOME "Oral mucous membrane structure")))
 AND
 ("Role group" SOME
  (("Associated morphology" SOME "Acute necrotizing inflammation")
   AND ("Finding site" SOME "Gingival structure")))
 AND ("Role group" SOME ("Causative agent" SOME "Bacteria")) AND
 ("Role group" SOME
  ("Clinical course" SOME "Sudden onset AND/OR short duration"))
 AND
 ("Role group" SOME
  ("Pathological process" SOME "Infectious process")))

Wrong: finding site and of disjoint location (?)
  
("Hydromeningomyelocele" SUBCLASSOF "Congenital meningocele" AND
 "Meningomyelocele" AND
 ("Role group" SOME
  (("Associated morphology" SOME "Congenital failure of fusion") AND
   ("Finding site" SOME "Structure of arch of vertebra")))
 AND
 ("Role group" SOME
  (("Associated morphology" SOME "Congenital protrusion") AND
   ("Finding site" SOME "Spinal cord tissue structure")))
 AND
 ("Role group" SOME
  (("Associated morphology" SOME "Congenital protrusion") AND
   ("Finding site" SOME "Spinal cord meninges structure")))
 AND
 ("Role group" SOME
  (("Associated morphology" SOME "Congenital accumulation of fluid")
   AND ("Finding site" SOME "Spinal cord structure")))
 AND ("Role group" SOME ("Occurrence" SOME "Congenital")))

OK

("Cavernous sinus syndrome" SUBCLASSOF
 "Thrombosis of cavernous venous sinus" AND
 ("Role group" SOME
  (("Associated morphology" SOME "Thrombus") AND
   ("Finding site" SOME "Structure of cavernous sinus")))
 AND
 ("Role group" SOME
  ("Finding site" SOME "Structure of ophthalmic nerve"))
 AND
 ("Role group" SOME
  ("Finding site" SOME "Trochlear nerve structure"))
 AND
 ("Role group" SOME
  ("Finding site" SOME "Oculomotor nerve structure"))
 AND
 ("Role group" SOME ("Finding site" SOME "Abducens nerve structure")))

I thing wrong - another AND instead of OR   

("Aplastic anemia co-occurrent with human immunodeficiency virus infection"
 EQUIVALENTTO "Disorder of cellular component of blood" AND
 ("Role group" SOME
  (("Associated morphology" SOME "Aplasia") AND
   ("Finding site" SOME "Bone marrow structure")))
 AND
 ("Role group" SOME
  (("Causative agent" SOME "Human immunodeficiency virus") AND
   ("Pathological process" SOME "Infectious process")))
 AND ("Role group" SOME ("Finding site" SOME "Erythrocyte")) AND
 ("Role group" SOME
  ("Has definitional manifestation" SOME "Erythropenia"))
 AND
 ("Role group" SOME
  ("Due to" SOME "Decreased erythrocyte production")))

OK

("Ocular-mucous membrane syndrome" SUBCLASSOF
 "Inflammatory disorder of the eye" AND "Stevens-Johnson syndrome"
 AND
 ("Role group" SOME
  (("Associated morphology" SOME "Inflammation") AND
   ("Associated morphology" SOME "Blister") AND
   ("Finding site" SOME "Skin structure")))
 AND
 ("Role group" SOME
  (("Associated morphology" SOME "Inflammation") AND
   ("Associated morphology" SOME "Blister") AND
   ("Finding site" SOME "Mucous membrane structure")))
 AND
 ("Role group" SOME
  (("Associated morphology" SOME "Inflammation") AND
   ("Associated morphology" SOME "Blister") AND
   ("Finding site" SOME "Genital structure")))
 AND
 ("Role group" SOME
  (("Associated morphology" SOME "Inflammation") AND
   ("Finding site" SOME "Eye region structure")))
 AND
 ("Role group" SOME
  (("Associated morphology" SOME "Blister") AND
   ("Finding site" SOME "Oral mucous membrane structure"))))

I think wrong: Associated morphology of conjunciton of disjoints

("Exstrophy of cloaca sequence" SUBCLASSOF
 "High anorectal malformation" AND "Exstrophy of bladder sequence"
 AND
 ("Role group" SOME
  (("Associated morphology" SOME "Protrusion") AND
   ("Occurrence" SOME "Congenital") AND
   ("Finding site" SOME "Rectum structure")))
 AND
 ("Role group" SOME
  (("Associated morphology" SOME "Protrusion") AND
   ("Occurrence" SOME "Congenital") AND
   ("Finding site" SOME "Anal structure")))
 AND
 ("Role group" SOME
  (("Associated morphology" SOME "Developmental abnormality") AND
   ("Occurrence" SOME "Congenital") AND
   ("Finding site" SOME
    "Structure of posterior wall of urinary bladder")))
 AND
 ("Role group" SOME
  (("Associated morphology" SOME "Developmental abnormality") AND
   ("Occurrence" SOME "Congenital") AND
   ("Finding site" SOME
    "Structure of anterior wall of urinary bladder")))
 AND
 ("Role group" SOME
  (("Occurrence" SOME "Congenital") AND
   ("Finding site" SOME "Cloacogenic zone")))
 AND
 ("Role group" SOME
  (("Occurrence" SOME "Congenital") AND
   ("Finding site" SOME "Cloaca structure"))))

Not sure

("Subcutaneous pheohyphomycotic abscess and cyst" SUBCLASSOF
 "Phaeohyphomycosis of skin" AND
 ("Role group" SOME ("Causative agent" SOME "Exophiala")) AND
 ("Role group" SOME ("Causative agent" SOME "Bipolaris")) AND
 ("Role group" SOME ("Causative agent" SOME "Cladosporium")) AND
 ("Role group" SOME ("Causative agent" SOME "Xylohypha")) AND
 ("Role group" SOME ("Causative agent" SOME "Phialophora")) AND
 ("Role group" SOME ("Causative agent" SOME "Curvularia")) AND
 ("Role group" SOME ("Causative agent" SOME "Alternaria")) AND
 ("Role group" SOME ("Causative agent" SOME "Exserohilum")) AND
 ("Role group" SOME ("Finding site" SOME "Skin structure")))

wrong: causative agents disjoints

---

Eruption is preferred term for two entities
271807003 1806006


    <owl:Class rdf:about="http://snomed.info/id/271807003">
        <owl:equivalentClass>
            <owl:Class>
                <owl:intersectionOf rdf:parseType="Collection">
                    <rdf:Description rdf:about="http://snomed.info/id/95324001"/>
                    <owl:Restriction>
                        <owl:onProperty rdf:resource="http://snomed.info/id/609096000"/>
                        <owl:someValuesFrom>
                            <owl:Class>
                                <owl:intersectionOf rdf:parseType="Collection">
                                    <owl:Restriction>
                                        <owl:onProperty rdf:resource="http://snomed.info/id/116676008"/>
                                        <owl:someValuesFrom rdf:resource="http://snomed.info/id/1806006"/>
                                    </owl:Restriction>
                                    <owl:Restriction>
                                        <owl:onProperty rdf:resource="http://snomed.info/id/363698007"/>
                                        <owl:someValuesFrom rdf:resource="http://snomed.info/id/39937001"/>
                                    </owl:Restriction>
                                </owl:intersectionOf>
                            </owl:Class>
                        </owl:someValuesFrom>
                    </owl:Restriction>
                </owl:intersectionOf>
            </owl:Class>
        </owl:equivalentClass>

WOOPS

<sctf:Description.term.en-us.preferred>Eruption</sctf:Description.term.en-us.preferred>

<sctf:Description.term.en-us.synonym>Breaking out - eruption</sctf:Description.term.en-us.synonym>
        <sctf:Description.term.en-us.synonym>Eruption of skin</sctf:Description.term.en-us.synonym>
        <sctf:Description.term.en-us.synonym>Exanthem</sctf:Description.term.en-us.synonym>

In Shrimp this one is the preferred

        <sctf:Description.term.en-us.synonym>Rash</sctf:Description.term.en-us.synonym>
        <sctf:Description.term.en-us.synonym>Skin eruption</sctf:Description.term.en-us.synonym>
        <sctf:Description.term.en-us.synonym>Skin rash</sctf:Description.term.en-us.synonym>
        <rdfs:label>Eruption of skin (disorder)</rdfs:label>
    </owl:Class>

****************************************************************

Bug report
In using the OWL file generated by SnomedCT_RF2Release_US1000124_20160301/Resources/StatedRelationshipsToOwlKRSS/tls2_StatedRelationshipsToOwlKRSS_US1000124_20160301.pl

I noticed that two terms had the same preferred english term. The preferred term is 'Eruption' and the two terms are SNOMED ids 1806006(Eruption) and 271807003 (Rash, which which 'Eruption' is a synonym)

On review of the contents of
sct2_Description_Snapshot-en_US1000124_20160301.txt I see two lines
for which I have changed tabs to newlines for readability, and with
what I understand the foreign key into the language refset is

(1) - Rash
* 406764010
20020131
1
900000000000207008
271807003
en
900000000000013009
Eruption
900000000000020002

(2) - Eruption
* 4121019
20020131
1
900000000000207008
1806006
en
900000000000013009
Eruption
900000000000020002

The corresponding lines from
der2_cRefset_LanguageSnapshot-en_US1000124_20160301.txt are below,
with the * indicating the foreign key and the ** indicating the
acceptability id, which is the same (preferred) for both.


c8b31e48-08f1-5df3-8cc1-677264621fea
20020131
1
900000000000207008
900000000000508004
* 406764010
** 900000000000548007

332873a8-c1e8-52c5-ba25-c7be17a8c4ff
20020131
1
900000000000207008
900000000000509007
* 4121019
** 900000000000548007

The problem persists in the latest version
